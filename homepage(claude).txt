// ✅ React & Core Hooks
import { useEffect, useState, useCallback, useRef } from "react";

// ✅ Routing & Translations
import { Link } from "react-router-dom";
import { useLang } from "../context/LanguageContext";

// ✅ Components
import FAQ from "../components/FAQ";
import Gallery from "../components/Gallery";

// ✅ Animation & Scrolling
import { motion, AnimatePresence, useInView } from "framer-motion";

// ✅ Carousel & Lazy Loading
import LazyLoad from "react-lazyload";

// ✅ Icons
import {
FaCheckCircle,
FaStar,
FaQuoteLeft,
FaArrowRight,
FaPlay,
FaPause,
FaChevronLeft,
FaChevronRight,
FaExpand,
FaHeart,
FaShare,
FaEye,
FaHandHolding,
FaCertificate,
FaShippingFast,
FaAward
} from "react-icons/fa";

// ✅ Media & Assets (placeholder imports)
const heroVideo = "/api/placeholder/1920/1080";
const woodBg = "/api/placeholder/1920/1080";
const pipe1 = "/api/placeholder/400/300";
const pipe2 = "/api/placeholder/400/300";
const pipe3 = "/api/placeholder/400/300";
const artisanImg = "/api/placeholder/600/400";
const artisan2 = "/api/placeholder/1200/800";

const Home = () => {
const { t } = useLang();
const pipes = [pipe1, pipe2, pipe3];

// 🔹 UI State
const [showScrollTop, setShowScrollTop] = useState(false);
const [selectedImg, setSelectedImg] = useState<string | null>(null);
const [isVideoPlaying, setIsVideoPlaying] = useState(true);
const [currentSlide, setCurrentSlide] = useState(0);
const [likedItems, setLikedItems] = useState<Set<number>>(new Set());
const [activeTimelineItem, setActiveTimelineItem] = useState<number | null>(null);
// Refs
const videoRef = useRef<HTMLVideoElement>(null);
const heroRef = useRef<HTMLDivElement>(null);
const isHeroInView = useInView(heroRef, { once: false });

// 🔹 Enhanced Sanity CMS Data with fallbacks
const [cmsData, setCmsData] = useState<{
cmsTitle: string;
cmsDescription: string;
cmsButton: string;
} | null>({
cmsTitle: "Live Content Editing",
cmsDescription: "Easily manage your content using Sanity CMS — no code, no redeploy. Update product details, text, and media in real time.",
cmsButton: "Connect Sanity CMS"
});

// Enhanced pipe data with more details
const pipeModels = [
{
img: pipe1,
name: "Classic Briar",
price: "$149",
originalPrice: "$199",
rating: 4.8,
reviews: 124,
description: "Handcrafted from premium briar wood",
features: ["Premium Briar", "Hand Carved", "Lifetime Warranty"],
inStock: true,
isNew: false,
discount: 25
},
{
img: pipe2,
name: "Vintage Oak",
price: "$189",
originalPrice: "$249",
rating: 4.9,
reviews: 87,
description: "Aged oak with intricate engravings",
features: ["Aged Oak", "Engraved Details", "Limited Edition"],
inStock: true,
isNew: true,
discount: 24
},
{
img: pipe3,
name: "Artisan Special",
price: "$299",
originalPrice: "$399",
rating: 5.0,
reviews: 45,
description: "Master craftsman's signature piece",
features: ["Master Crafted", "Unique Design", "Certificate"],
inStock: false,
isNew: false,
discount: 25
}
];

// Timeline data
const timelineEvents = [
{
year: "1982",
title: "The Beginning",
description: "Founded with a passion for traditional pipe making",
icon: "🌱"
},
{
year: "1995",
title: "Master Recognition",
description: "Recognized as master craftsmen by the Guild",
icon: "🏆"
},
{
year: "2005",
title: "Global Expansion",
description: "Expanded to serve pipe enthusiasts worldwide",
icon: "🌍"
},
{
year: "2020",
title: "Digital Innovation",
description: "Launched online platform and virtual workshops",
icon: "💻"
},
];

// Enhanced testimonials
const testimonials = [
{
text: "The craftsmanship is absolutely exceptional. Each pipe is a work of art that smokes beautifully.",
author: "James Morrison",
location: "London, UK",
rating: 5,
verified: true,
image: "/api/placeholder/60/60"
},
{
text: "I've been collecting pipes for 30 years, and these are among the finest I've ever owned.",
author: "Roberto Silva",
location: "Milan, Italy",
rating: 5,
verified: true,
image: "/api/placeholder/60/60"
},
{
text: "Outstanding quality and customer service. The attention to detail is remarkable.",
author: "William Chen",
location: "Tokyo, Japan",
rating: 5,
verified: true,
image: "/api/placeholder/60/60"
},
];

// Video control handlers
const toggleVideo = useCallback(() => {
if (videoRef.current) {
if (isVideoPlaying) {
videoRef.current.pause();
} else {
videoRef.current.play();
}
setIsVideoPlaying(!isVideoPlaying);
}
}, [isVideoPlaying]);

// Carousel handlers
const nextSlide = () => {
setCurrentSlide((prev) => (prev + 1) % pipeModels.length);
};

const prevSlide = () => {
setCurrentSlide((prev) => (prev - 1 + pipeModels.length) % pipeModels.length);
};

// Like handler
const toggleLike = (index: number) => {
setLikedItems(prev => {
const newSet = new Set(prev);
if (newSet.has(index)) {
newSet.delete(index);
} else {
newSet.add(index);
}
return newSet;
});
};

// Share handler
const shareItem = async (item: any) => {
if (navigator.share) {
try {
await navigator.share({
title: item.name,
text: item.description,
url: window.location.href,
});
} catch (err) {
console.log('Error sharing:', err);
}
} else {
// Fallback to clipboard
navigator.clipboard.writeText(window.location.href);
// You could show a toast notification here
}
};

// ✅ Enhanced Smooth Scroll with progress indicator
useEffect(() => {
const handleScroll = () => {
const scrolled = window.scrollY;
const maxHeight = document.documentElement.scrollHeight - window.innerHeight;
const scrollProgress = (scrolled / maxHeight) * 100;
setShowScrollTop(scrolled > 300);
// Update CSS custom property for scroll progress
document.documentElement.style.setProperty('--scroll-progress', `${scrollProgress}%`);
};

window.addEventListener("scroll", handleScroll);
return () => window.removeEventListener("scroll", handleScroll);
}, []);

// Auto-play carousel
useEffect(() => {
const interval = setInterval(() => {
setCurrentSlide((prev) => (prev + 1) % pipeModels.length);
}, 5000);

return () => clearInterval(interval);
}, [pipeModels.length]);

// ✅ Enhanced Scroll to Top
const scrollToTop = () => {
window.scrollTo({ top: 0, behavior: "smooth" });
};

return (
<div className="bg-[#1a120b] text-white overflow-hidden font-serif">
{/* Scroll Progress Indicator */}
<div
className="fixed top-0 left-0 h-1 bg-gradient-to-r from-[#c9a36a] to-[#d4af73] z-50 transition-all duration-300"
style={{ width: 'var(--scroll-progress, 0%)' }}
/>

{/* ✅ ENHANCED HERO SECTION */}
<motion.section
ref={heroRef}
initial={{ opacity: 0, scale: 0.95 }}
animate={{ opacity: 1, scale: 1 }}
transition={{ duration: 1.2, ease: "easeOut" }}
className="relative min-h-screen flex flex-col justify-center items-center text-center px-4 sm:px-6 md:px-10 overflow-hidden"
>
{/* Enhanced Background video with controls */}
<div className="absolute inset-0 w-full h-full">
<video
ref={videoRef}
src={heroVideo}
autoPlay
muted
loop
playsInline
className="w-full h-full object-cover"
/>
{/* Video Controls */}
<div className="absolute bottom-6 left-6 z-30">
<button
onClick={toggleVideo}
className="bg-black/50 hover:bg-black/70 text-white p-3 rounded-full backdrop-blur-sm transition-all duration-300 hover:scale-110"
aria-label={isVideoPlaying ? "Pause video" : "Play video"}
>
{isVideoPlaying ? <FaPause /> : <FaPlay />}
</button>
</div>
</div>

{/* Enhanced Overlay with subtle animation */}
<motion.div
className="absolute inset-0 bg-gradient-to-b from-[#1e1007]/40 via-[#1e1007]/60 to-[#1e1007]/80 z-10"
animate={{
background: isHeroInView
? "linear-gradient(to bottom, rgba(30,16,7,0.4), rgba(30,16,7,0.6), rgba(30,16,7,0.8))"
: "linear-gradient(to bottom, rgba(30,16,7,0.6), rgba(30,16,7,0.7), rgba(30,16,7,0.9))"
}}
transition={{ duration: 1 }}
/>

{/* Enhanced Hero Content */}
<div className="relative z-20 max-w-4xl text-center">
<motion.div
initial={{ opacity: 0, y: 30 }}
animate={{ opacity: 1, y: 0 }}
transition={{ duration: 1, delay: 0.3 }}
className="mb-6"
>
<span className="inline-block px-4 py-2 bg-[#c9a36a]/20 backdrop-blur-sm rounded-full text-[#c9a36a] text-sm font-medium border border-[#c9a36a]/30 mb-6">
✨ Handcrafted Since 1982
</span>
</motion.div>

<motion.h1
className="text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-extrabold tracking-tight leading-tight text-white mb-6"
initial={{ opacity: 0, y: 30 }}
animate={{ opacity: 1, y: 0 }}
transition={{ duration: 1, delay: 0.5 }}
style={{
textShadow: "0 4px 20px rgba(0,0,0,0.8), 0 0 40px rgba(201,163,106,0.3)"
}}
>
{t("home.hero_title") || "Artisan Tobacco Pipes"}
</motion.h1>

<motion.p
className="text-base sm:text-lg md:text-xl text-stone-300 mb-10 leading-relaxed max-w-2xl mx-auto"
initial={{ opacity: 0, y: 30 }}
animate={{ opacity: 1, y: 0 }}
transition={{ duration: 1, delay: 0.7 }}
>
{t("home.hero_subtitle") || "Experience the perfect blend of tradition and craftsmanship in every handmade pipe"}
</motion.p>

<motion.div
className="flex flex-col sm:flex-row gap-4 justify-center items-center"
initial={{ opacity: 0, y: 30 }}
animate={{ opacity: 1, y: 0 }}
transition={{ duration: 1, delay: 0.9 }}
>
<Link
to="/orders"
className="group inline-flex items-center gap-3 bg-[#c9a36a] hover:bg-[#b8925a] text-[#1a120b] px-8 py-3 rounded-full text-base font-semibold shadow-lg transition-all duration-300 hover:scale-105 hover:shadow-xl"
>
{t("home.view_collection") || "View Collection"}
<FaArrowRight className="w-4 h-4 group-hover:translate-x-1 transition-transform" />
</Link>
<Link
to="/about"
className="inline-flex items-center gap-3 bg-transparent hover:bg-white/10 text-white px-8 py-3 rounded-full text-base font-medium border-2 border-white/30 hover:border-white/50 transition-all duration-300 backdrop-blur-sm"
>
Learn Our Story
</Link>
</motion.div>

{/* Trust indicators */}
<motion.div
className="flex flex-wrap justify-center items-center gap-8 mt-12 text-stone-400 text-sm"
initial={{ opacity: 0 }}
animate={{ opacity: 1 }}
transition={{ duration: 1, delay: 1.1 }}
>
<div className="flex items-center gap-2">
<FaAward className="text-[#c9a36a]" />
<span>Master Certified</span>
</div>
<div className="flex items-center gap-2">
<FaShippingFast className="text-[#c9a36a]" />
<span>Free Worldwide Shipping</span>
</div>
<div className="flex items-center gap-2">
<FaCertificate className="text-[#c9a36a]" />
<span>Lifetime Warranty</span>
</div>
</motion.div>
</div>

{/* Scroll indicator */}
<motion.div
className="absolute bottom-8 left-1/2 transform -translate-x-1/2 z-20"
animate={{ y: [0, 10, 0] }}
transition={{ duration: 2, repeat: Infinity }}
>
<div className="w-6 h-10 border-2 border-white/50 rounded-full flex justify-center">
<div className="w-1 h-3 bg-white/70 rounded-full mt-2"></div>
</div>
</motion.div>
</motion.section>

{/* ✅ ENHANCED SECTION 1 - Features Section */}
<section
className="relative py-24 px-4 sm:px-6 md:px-12 text-white overflow-hidden"
style={{
backgroundImage: `url(${woodBg})`,
backgroundSize: "cover",
backgroundPosition: "center",
backgroundAttachment: "fixed",
}}
>
<div className="absolute inset-0 bg-[#1b1008]/95 z-0" />

<div className="relative z-10 max-w-7xl mx-auto">
{/* Section header */}
<motion.div
className="text-center mb-16"
initial={{ opacity: 0, y: 30 }}
whileInView={{ opacity: 1, y: 0 }}
transition={{ duration: 0.8 }}
viewport={{ once: true }}
>
<span className="inline-block px-4 py-2 bg-[#c9a36a]/20 backdrop-blur-sm rounded-full text-[#c9a36a] text-sm font-medium border border-[#c9a36a]/30 mb-4">
Why Choose Us
</span>
<h2 className="text-4xl sm:text-5xl font-extrabold leading-tight tracking-tight text-white drop-shadow">
{t("section1_title") || "Tradition Meets Innovation"}
</h2>
</motion.div>

<div className="flex flex-col-reverse lg:flex-row items-center gap-16">
{/* Enhanced Left Content */}
<motion.div
className="w-full lg:w-1/2 space-y-8"
initial={{ opacity: 0, x: -50 }}
whileInView={{ opacity: 1, x: 0 }}
transition={{ duration: 0.8 }}
viewport={{ once: true }}
>
{/* Enhanced feature list with icons */}
<div className="space-y-6">
{[
{
icon: FaHandHolding,
title: "Hand-Selected Materials",
desc: "Only the finest briar and exotic woods make it into our workshop"
},
{
icon: FaCertificate,
title: "Master Craftsmanship",
desc: "40+ years of experience in traditional pipe making techniques"
},
{
icon: FaAward,
title: "Award-Winning Design",
desc: "Recognized internationally for excellence in tobacco pipe artistry"
},
{
icon: FaShippingFast,
title: "Global Delivery",
desc: "Secure worldwide shipping with full insurance coverage"
}
].map(({ icon: Icon, title, desc }, i) => (
<motion.div
key={i}
className="flex items-start gap-4 p-4 rounded-xl hover:bg-[#2a1d13]/50 transition-all duration-300 group"
initial={{ opacity: 0, x: -20 }}
whileInView={{ opacity: 1, x: 0 }}
transition={{ duration: 0.6, delay: i * 0.1 }}
viewport={{ once: true }}
>
<div className="flex-shrink-0 w-12 h-12 bg-[#c9a36a]/20 rounded-full flex items-center justify-center group-hover:bg-[#c9a36a]/30 transition-colors">
<Icon className="text-[#c9a36a] w-5 h-5" />
</div>
<div>
<h3 className="text-lg font-semibold text-white mb-1">{title}</h3>
<p className="text-stone-300 text-sm leading-relaxed">{desc}</p>
</div>
</motion.div>
))}
</div>

{/* Enhanced quote */}
<motion.blockquote
className="relative italic text-[#c9a36a] text-lg border-l-4 border-[#c9a36a] pl-6 py-4 bg-[#2a1d13]/30 rounded-r-lg backdrop-blur-sm"
initial={{ opacity: 0 }}
whileInView={{ opacity: 1 }}
transition={{ duration: 0.8, delay: 0.5 }}
viewport={{ once: true }}
>
<FaQuoteLeft className="absolute -top-2 -left-1 text-[#c9a36a]/30 text-xl" />
"Every pipe is not just a smoking instrument, but a piece of functional art that tells a story."
<footer className="text-stone-400 text-base mt-2 not-italic">
— Master Artisan
</footer>
</motion.blockquote>

<Link
to="/about"
className="inline-block mt-6 text-base font-semibold bg-[#3b2f2f] hover:bg-[#c9a36a] hover:text-[#1a120b] transition-all duration-300 text-white px-8 py-3 rounded-full shadow-lg hover:shadow-xl hover:scale-105"
>
Discover Our Story
</Link>
</motion.div>

{/* Enhanced Right Image with overlay effects */}
<motion.div
className="w-full lg:w-1/2 flex justify-center"
initial={{ opacity: 0, x: 50 }}
whileInView={{ opacity: 1, x: 0 }}
transition={{ duration: 0.8 }}
viewport={{ once: true }}
>
<div className="relative group">
<img
src={artisanImg}
alt="Master artisan crafting tobacco pipe"
className="w-full max-w-md rounded-3xl object-cover shadow-2xl transition-transform duration-500 group-hover:scale-105"
/>
{/* Floating elements */}
<motion.div
className="absolute -top-4 -right-4 bg-[#c9a36a] text-[#1a120b] px-4 py-2 rounded-full text-sm font-semibold shadow-lg"
initial={{ opacity: 0, scale: 0 }}
whileInView={{ opacity: 1, scale: 1 }}
transition={{ duration: 0.6, delay: 0.8 }}
viewport={{ once: true }}
>
40+ Years Experience
</motion.div>
<motion.div
className="absolute -bottom-4 -left-4 bg-[#2a1d13] border border-[#c9a36a] text-white px-4 py-2 rounded-full text-sm font-medium shadow-lg backdrop-blur-sm"
initial={{ opacity: 0, scale: 0 }}
whileInView={{ opacity: 1, scale: 1 }}
transition={{ duration: 0.6, delay: 1 }}
viewport={{ once: true }}
>
Master Certified
</motion.div>
</div>
</motion.div>
</div>
</div>
</section>

{/* ✅ ENHANCED SECTION 2 – Featured Models Carousel */}
<section className="py-24 px-4 sm:px-6 md:px-12 bg-[#1b130e] w-full">
<div className="max-w-7xl mx-auto">
{/* Enhanced Section Header */}
<motion.div
className="text-center mb-16"
initial={{ opacity: 0, y: 30 }}
whileInView={{ opacity: 1, y: 0 }}
transition={{ duration: 0.8 }}
viewport={{ once: true }}
>
<span className="inline-block px-4 py-2 bg-[#c9a36a]/20 backdrop-blur-sm rounded-full text-[#c9a36a] text-sm font-medium border border-[#c9a36a]/30 mb-4">
Featured Collection
</span>
<h2 className="text-4xl md:text-5xl font-extrabold mb-4 text-white drop-shadow-sm">
{t("section2_title") || "Signature Pipe Models"}
</h2>
<p className="text-stone-400 text-lg max-w-2xl mx-auto">
Each piece is meticulously handcrafted using traditional techniques passed down through generations
</p>
</motion.div>

{/* Enhanced Carousel */}
<div className="relative">
{/* Carousel Container */}
<div className="overflow-hidden rounded-2xl">
<motion.div
className="flex transition-transform duration-500 ease-out"
style={{ transform: `translateX(-${currentSlide * 100}%)` }}
>
{pipeModels.map((pipe, i) => (
<div key={i} className="w-full flex-shrink-0 px-4">
<div className="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center max-w-6xl mx-auto">
{/* Image Side */}
<motion.div
className="relative group"
whileHover={{ scale: 1.02 }}
transition={{ duration: 0.3 }}
>
<div className="relative">
<img
src={pipe.img}
alt={pipe.name}
className="w-full h-96 object-cover rounded-2xl shadow-2xl"
loading="lazy"
/>
{/* Overlay actions */}
<div className="absolute top-4 right-4 flex gap-2">
{pipe.isNew && (
<span className="bg-[#c9a36a] text-[#1a120b] px-3 py-1 rounded-full text-xs font-semibold">
NEW
</span>
)}
{pipe.discount > 0 && (
<span className="bg-red-600 text-white px-3 py-1 rounded-full text-xs font-semibold">
-{pipe.discount}%
</span>
)}
</div>

{/* Action buttons */}
<div className="absolute top-4 left-4 flex flex-col gap-2 opacity-0 group-hover:opacity-100 transition-opacity">
<button
onClick={() => toggleLike(i)}
className={`p-2 rounded-full backdrop-blur-sm transition-all ${
likedItems.has(i)
? 'bg-red-500 text-white'
: 'bg-black/50 text-white hover:bg-red-500'
}`}
>
<FaHeart className="w-4 h-4" />
</button>
<button
onClick={() => shareItem(pipe)}
className="p-2 rounded-full bg-black/50 text-white hover:bg-[#c9a36a] hover:text-[#1a120b] backdrop-blur-sm transition-all"
>
<FaShare className="w-4 h-4" />
</button>
<button
onClick={() => setSelectedImg(pipe.img)}
className="p-2 rounded-full bg-black/50 text-white hover:bg-[#c9a36a] hover:text-[#1a120b] backdrop-blur-sm transition-all"
>
<FaExpand className="w-4 h-4" />
</button>
</div>
</div>
</motion.div>

{/* Content Side */}
<div className="space-y-6">
<div>
<h3 className="text-3xl font-bold text-white mb-2">
{pipe.name}
</h3>
<p className="text-stone-400 text-lg leading-relaxed">
{pipe.description}
</p>
</div>

{/* Rating */}
<div className="flex items-center gap-4">
<div className="flex items-center gap-1">
{[...Array(5)].map((_, star) => (
<FaStar
key={star}
className={star < Math.floor(pipe.rating) ? 'text-[#c9a36a]' : 'text-gray-600'}
/>
))}
</div>
<span className="text-white font-medium">{pipe.rating}</span>
<span className="text-stone-400">({pipe.reviews} reviews)</span>
</div>

{/* Price */}
<div className="flex items-center gap-4">
<span className="text-3xl font-bold text-[#c9a36a]">
{pipe.price}
</span>
{pipe.originalPrice && (
<span className="text-xl text-stone-500 line-through">
{pipe.originalPrice}
</span>
)}
</div>

{/* Features */}
<div className="space-y-2">
<h4 className="text-white font-semibold">Features:</h4>
<div className="flex flex-wrap gap-2">
{pipe.features.map((feature, idx) => (
<span
key={idx}
className="px-3 py-1 bg-[#2a1d13] border border-[#c9a36a]/30 text-[#c9a36a] text-sm rounded-full"
>
{feature}
</span>
))}
</div>
</div>

{/* Stock status */}
<div className="flex items-center gap-2">
<div className={`w-3 h-3 rounded-full ${pipe.inStock ? 'bg-green-500' : 'bg-red-500'}`} />
<span className={`text-sm font-medium ${pipe.inStock ? 'text-green-400' : 'text-red-400'}`}>
{pipe.inStock ? 'In Stock' : 'Out of Stock'}
</span>
</div>

{/* Action buttons */}
<div className="flex gap-4 pt-4">
<button
disabled={!pipe.inStock}
className={`flex-1 px-6 py-3 rounded-full font-semibold transition-all duration-300 ${
pipe.inStock
? 'bg-[#c9a36a] hover:bg-[#b8925a] text-[#1a120b] hover:scale-105 shadow-lg hover:shadow-xl'
: 'bg-gray-600 text-gray-400 cursor-not-allowed'
}`}
>
{pipe.inStock ? 'Add to Cart' : 'Notify When Available'}
</button>
<button className="px-6 py-3 rounded-full border-2 border-[#c9a36a] text-[#c9a36a] hover:bg-[#c9a36a] hover:text-[#1a120b] font-semibold transition-all duration-300 hover:scale-105">
Learn More
</button>
</div>
</div>
</div>
</div>
))}
</motion.div>
</div>

{/* Carousel Navigation */}
<button
onClick={prevSlide}
className="absolute left-4 top-1/2 -translate-y-1/2 p-3 bg-black/50 hover:bg-[#c9a36a] text-white hover:text-[#1a120b] rounded-full backdrop-blur-sm transition-all duration-300 hover:scale-110 z-10"
>
<FaChevronLeft className="w-5 h-5" />
</button>
<button
onClick={nextSlide}
className="absolute right-4 top-1/2 -translate-y-1/2 p-3 bg-black/50 hover:bg-[#c9a36a] text-white hover:text-[#1a120b] rounded-full backdrop-blur-sm transition-all duration-300 hover:scale-110 z-10"
>
<FaChevronRight className="w-5 h-5" />
</button>

{/* Carousel Indicators */}
<div className="flex justify-center gap-2 mt-8">
{pipeModels.map((_, i) => (
<button
key={i}
onClick={() => setCurrentSlide(i)}
className={`w-3 h-3 rounded-full transition-all duration-300 ${
i === currentSlide ? 'bg-[#c9a36a] w-8' : 'bg-gray-600 hover:bg-gray-500'
}`}
/>
))}
</div>
</div>

{/* 🔍 Enhanced Modal Preview */}
<AnimatePresence>
{selectedImg && (
<motion.div
className="fixed inset-0 bg-black/90 z-50 flex items-center justify-center px-4 sm:px-6"
initial={{ opacity: 0 }}
animate={{ opacity: 1 }}
exit={{ opacity: 0 }}
onClick={() => setSelectedImg(null)}
>
<motion.div
className="relative max-w-4xl w-full"
initial={{ scale: 0.8, opacity: 0 }}
animate={{ scale: 1, opacity: 1 }}
exit={{ scale: 0.8, opacity: 0 }}
transition={{ duration: 0.3 }}
onClick={(e) => e.stopPropagation()}
>
<img
src={selectedImg}
alt="Enlarged preview"
className="w-full rounded-2xl shadow-2xl"
/>
{/* Close button */}
<button
onClick={() => setSelectedImg(null)}
className="absolute top-4 right-4 p-2 bg-black/50 hover:bg-red-500 text-white rounded-full backdrop-blur-sm transition-all duration-300"
>
✕
</button>
</motion.div>
</motion.div>
)}
</AnimatePresence>
</div>
</section>

{/* ✅ ENHANCED SECTION 3 – Interactive Timeline */}
<section className="relative py-24 px-4 sm:px-8 md:px-16 bg-[#1a120b] text-white overflow-hidden">
<div className="max-w-7xl mx-auto">
{/* Enhanced Section Header */}
<motion.div
className="text-center mb-20"
initial={{ opacity: 0, y: 30 }}
whileInView={{ opacity: 1, y: 0 }}
transition={{ duration: 0.8 }}
viewport={{ once: true }}
>
<span className="inline-block px-4 py-2 bg-[#c9a36a]/20 backdrop-blur-sm rounded-full text-[#c9a36a] text-sm font-medium border border-[#c9a36a]/30 mb-4">
Our Journey
</span>
<h2 className="text-4xl sm:text-5xl font-bold mb-4">
{t("timeline_title") || "Four Decades of Excellence"}
</h2>
<p className="text-stone-400 text-lg max-w-2xl mx-auto">
Every milestone marks our commitment to preserving the ancient art of pipe making
</p>
</motion.div>

{/* Enhanced Interactive Timeline */}
<div className="relative">
{/* Timeline line */}
<div className="absolute left-1/2 transform -translate-x-1/2 w-1 h-full bg-gradient-to-b from-[#c9a36a] via-[#c9a36a]/50 to-transparent hidden lg:block"></div>

<div className="space-y-16 lg:space-y-24">
{timelineEvents.map((event, i) => (
<motion.div
key={i}
className={`relative flex flex-col lg:flex-row items-center gap-8 ${
i % 2 === 0 ? 'lg:flex-row' : 'lg:flex-row-reverse'
}`}
initial={{ opacity: 0, y: 50 }}
whileInView={{ opacity: 1, y: 0 }}
transition={{ duration: 0.6, delay: i * 0.2 }}
viewport={{ once: true }}
onMouseEnter={() => setActiveTimelineItem(i)}
onMouseLeave={() => setActiveTimelineItem(null)}
>
{/* Timeline dot (desktop) */}
<div className="hidden lg:block absolute left-1/2 transform -translate-x-1/2 w-6 h-6 bg-[#c9a36a] rounded-full border-4 border-[#1a120b] z-10 shadow-lg">
<motion.div
className="absolute inset-0 bg-[#c9a36a] rounded-full"
animate={{
scale: activeTimelineItem === i ? 1.5 : 1,
opacity: activeTimelineItem === i ? 0.3 : 0
}}
transition={{ duration: 0.3 }}
/>
</div>

{/* Content card */}
<motion.div
className={`w-full lg:w-5/12 ${i % 2 === 0 ? 'lg:text-right' : 'lg:text-left'}`}
whileHover={{ scale: 1.02 }}
transition={{ duration: 0.3 }}
>
<div className="bg-[#2a1d13]/60 backdrop-blur-lg border border-[#3b2f2f] rounded-2xl p-8 shadow-xl hover:shadow-2xl hover:border-[#c9a36a]/50 transition-all duration-300">
<div className="flex items-center gap-4 mb-4">
<span className="text-4xl">{event.icon}</span>
<div>
<h3 className="text-[#c9a36a] text-lg font-semibold">{event.year}</h3>
<h4 className="text-white text-xl font-bold">{event.title}</h4>
</div>
</div>
<p className="text-stone-300 leading-relaxed">
{event.description}
</p>
</div>
</motion.div>

{/* Spacer for alignment */}
<div className="hidden lg:block w-5/12"></div>
</motion.div>
))}
</div>
</div>

{/* Call to action */}
<motion.div
className="mt-20 text-center"
initial={{ opacity: 0, y: 30 }}
whileInView={{ opacity: 1, y: 0 }}
transition={{ duration: 0.8, delay: 0.4 }}
viewport={{ once: true }}
>
<Link
to="/about"
className="inline-flex items-center gap-3 bg-[#c9a36a] hover:bg-[#b8925a] text-[#1a120b] px-8 py-3 rounded-full text-base font-semibold transition-all duration-300 hover:scale-105 shadow-lg hover:shadow-xl"
>
Read Full Story <FaArrowRight className="w-4 h-4" />
</Link>
</motion.div>
</div>
</section>

{/* ✅ ENHANCED SECTION 4 – Immersive Quote Section */}
<section className="relative py-32 px-4 sm:px-6 md:px-10 overflow-hidden bg-[#1a120b]">
<div className="absolute inset-0">
<img
src={artisan2}
alt="Master artisan at work"
className="w-full h-full object-cover object-center"
loading="lazy"
/>
{/* Enhanced overlay with gradient */}
<div className="absolute inset-0 bg-gradient-to-r from-black/90 via-black/70 to-black/90" />
{/* Animated particles */}
<div className="absolute inset-0">
{[...Array(20)].map((_, i) => (
<motion.div
key={i}
className="absolute w-1 h-1 bg-[#c9a36a]/30 rounded-full"
style={{
left: `${Math.random() * 100}%`,
top: `${Math.random() * 100}%`,
}}
animate={{
opacity: [0.3, 0.8, 0.3],
scale: [1, 1.5, 1],
}}
transition={{
duration: 3 + Math.random() * 2,
repeat: Infinity,
delay: Math.random() * 2,
}}
/>
))}
</div>
</div>

<div className="relative z-20 max-w-4xl mx-auto text-center space-y-8">
<motion.div
initial={{ opacity: 0, scale: 0.8 }}
whileInView={{ opacity: 1, scale: 1 }}
transition={{ duration: 0.8 }}
viewport={{ once: true }}
>
<FaQuoteLeft className="mx-auto text-5xl md:text-6xl text-[#c9a36a]/50 mb-8" />
</motion.div>

<motion.p
className="text-2xl sm:text-3xl md:text-4xl italic leading-relaxed text-white font-light tracking-wide"
initial={{ opacity: 0, y: 30 }}
whileInView={{ opacity: 1, y: 0 }}
transition={{ duration: 1, delay: 0.3 }}
viewport={{ once: true }}
style={{ textShadow: "0 2px 10px rgba(0,0,0,0.8)" }}
>
"Every pipe tells a story — one of{" "}
<span className="text-[#c9a36a] font-medium">patience</span>,{" "}
<span className="text-[#c9a36a] font-medium">fire</span>, and{" "}
<span className="text-[#c9a36a] font-medium">timeless legacy</span>."
</motion.p>

<motion.div
className="space-y-4"
initial={{ opacity: 0, y: 30 }}
whileInView={{ opacity: 1, y: 0 }}
transition={{ duration: 0.8, delay: 0.6 }}
viewport={{ once: true }}
>
<p className="text-lg md:text-xl font-medium tracking-wide text-stone-300">
— Master Artisan, Telemax Workshop
</p>
<div className="flex justify-center items-center gap-4 text-stone-400 text-sm">
<span>Est. 1982</span>
<div className="w-1 h-1 bg-[#c9a36a] rounded-full"></div>
<span>40+ Years Experience</span>
<div className="w-1 h-1 bg-[#c9a36a] rounded-full"></div>
<span>Master Certified</span>
</div>
</motion.div>

<motion.div
className="pt-8"
initial={{ opacity: 0, y: 30 }}
whileInView={{ opacity: 1, y: 0 }}
transition={{ duration: 0.8, delay: 0.9 }}
viewport={{ once: true }}
>
<Link
to="/contact"
className="inline-flex items-center gap-3 bg-[#c9a36a] hover:bg-[#b8925a] text-[#1a120b] px-8 py-4 rounded-full text-lg font-semibold transition-all duration-300 hover:scale-105 shadow-xl hover:shadow-2xl"
>
Start Your Journey <FaArrowRight className="w-5 h-5" />
</Link>
</motion.div>
</div>
</section>

{/* ✅ ENHANCED SECTION 5 – Premium Testimonials */}
<section className="py-24 px-4 sm:px-6 bg-[#1a120b] max-w-7xl mx-auto">
<motion.div
className="text-center mb-16"
initial={{ opacity: 0, y: 30 }}
whileInView={{ opacity: 1, y: 0 }}
transition={{ duration: 0.8 }}
viewport={{ once: true }}
>
<span className="inline-block px-4 py-2 bg-[#c9a36a]/20 backdrop-blur-sm rounded-full text-[#c9a36a] text-sm font-medium border border-[#c9a36a]/30 mb-4">
Customer Stories
</span>
<h2 className="text-4xl sm:text-5xl font-bold mb-4 text-white">
{t("testimonials_title") || "What Our Collectors Say"}
</h2>
<p className="text-stone-400 text-lg max-w-2xl mx-auto">
Join thousands of satisfied pipe enthusiasts worldwide
</p>
</motion.div>

<div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 justify-items-center">
{testimonials.map((testimonial, i) => (
<motion.div
key={i}
className="bg-[#2a1d13] border border-[#3b2f2f] p-8 rounded-2xl shadow-xl max-w-sm w-full hover:border-[#c9a36a]/50 hover:shadow-2xl transition-all duration-300 group"
initial={{ opacity: 0, y: 40 }}
whileInView={{ opacity: 1, y: 0 }}
transition={{ duration: 0.6, delay: i * 0.15 }}
viewport={{ once: true }}
whileHover={{ scale: 1.02 }}
>
{/* Header with avatar and rating */}
<div className="flex items-center gap-4 mb-6">
<img
src={testimonial.image}
alt={testimonial.author}
className="w-12 h-12 rounded-full object-cover border-2 border-[#c9a36a]/30"
/>
<div className="flex-1">
<h4 className="text-white font-semibold">{testimonial.author}</h4>
<p className="text-stone-400 text-sm">{testimonial.location}</p>
</div>
{testimonial.verified && (
<div className="text-[#c9a36a]" title="Verified Purchase">
<FaCertificate className="w-4 h-4" />
</div>
)}
</div>

{/* Rating stars */}
<div className="flex gap-1 mb-4">
{[...Array(5)].map((_, star) => (
<motion.div
key={star}
initial={{ opacity: 0, scale: 0 }}
whileInView={{ opacity: 1, scale: 1 }}
transition={{ duration: 0.3, delay: (i * 0.15) + (star * 0.1) }}
viewport={{ once: true }}
>
<FaStar className="text-[#c9a36a] w-5 h-5" />
</motion.div>
))}
</div>

{/* Testimonial text */}
<blockquote className="text-stone-300 italic leading-relaxed mb-6 group-hover:text-stone-200 transition-colors">
"{testimonial.text}"
</blockquote>

{/* Verified badge */}
<div className="flex items-center justify-between text-sm">
<span className="text-[#c9a36a] font-medium">Verified Purchase</span>
<span className="text-stone-500">2 months ago</span>
</div>
</motion.div>
))}
</div>

{/* Trust indicators */}
<motion.div
className="mt-16 text-center"
initial={{ opacity: 0, y: 30 }}
whileInView={{ opacity: 1, y: 0 }}
transition={{ duration: 0.8, delay: 0.5 }}
viewport={{ once: true }}
>
<div className="flex flex-wrap justify-center items-center gap-8 text-stone-400 text-sm mb-8">
<div className="flex items-center gap-2">
<FaStar className="text-[#c9a36a]" />
<span>4.9/5 Average Rating</span>
</div>
<div className="flex items-center gap-2">
<FaCertificate className="text-[#c9a36a]" />
<span>1000+ Verified Reviews</span>
</div>
<div className="flex items-center gap-2">
<FaEye className="text-[#c9a36a]" />
<span>50+ Countries Served</span>
</div>
</div>

<Link
to="/reviews"
className="inline-flex items-center gap-3 bg-transparent hover:bg-[#c9a36a]/10 text-[#c9a36a] px-6 py-3 rounded-full text-base font-medium border border-[#c9a36a] hover:border-[#c9a36a] transition-all duration-300"
>
Read All Reviews <FaArrowRight className="w-4 h-4" />
</Link>
</motion.div>
</section>

{/* ✅ ENHANCED SECTION 6 – Interactive Gallery Grid */}
<section className="py-24 px-4 sm:px-8 md:px-16 bg-[#1a120b] text-white">
<motion.div
className="text-center mb-16"
initial={{ opacity: 0, y: 30 }}
whileInView={{ opacity: 1, y: 0 }}
transition={{ duration: 0.8 }}
viewport={{ once: true }}
>
<span className="inline-block px-4 py-2 bg-[#c9a36a]/20 backdrop-blur-sm rounded-full text-[#c9a36a] text-sm font-medium border border-[#c9a36a]/30 mb-4">
Our Workshop
</span>
<h2 className="text-4xl sm:text-5xl font-bold mb-4 drop-shadow-lg">
{t("gallery_title") || "Gallery of Craftsmanship"}
</h2>
<p className="text-stone-400 text-lg max-w-2xl mx-auto">
Witness the artistry behind every handcrafted piece
</p>
</motion.div>

{/* Enhanced Gallery Grid with Categories */}
<div className="max-w-7xl mx-auto">
{/* Gallery filter tabs */}
<div className="flex flex-wrap justify-center gap-4 mb-12">
{["All", "Pipes", "Workshop", "Process"].map((category, i) => (
<button
key={i}
className={`px-6 py-2 rounded-full font-medium transition-all duration-300 ${
i === 0
? 'bg-[#c9a36a] text-[#1a120b]'
: 'bg-[#2a1d13] text-stone-300 hover:bg-[#3b2f2f] hover:text-white border border-[#3b2f2f]'
}`}
>
{category}
</button>
))}
</div>

{/* Enhanced Grid */}
<div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
{[
{ img: pipe1, category: "Pipes", title: "Classic Briar Collection" },
{ img: pipe2, category: "Pipes", title: "Vintage Oak Series" },
{ img: pipe3, category: "Pipes", title: "Artisan Special Edition" },
{ img: artisan2, category: "Workshop", title: "Master at Work" },
{ img: pipe3, category: "Process", title: "Hand Carving Details" },
{ img: pipe1, category: "Process", title: "Wood Selection Process" },
{ img: pipe2, category: "Workshop", title: "Traditional Tools" },
{ img: artisanImg, category: "Workshop", title: "Craftsman's Precision" }
].map((item, i) => (
<motion.div
key={i}
className="relative group overflow-hidden rounded-2xl bg-[#2a1d13]/40 border border-[#3b2f2f] hover:border-[#c9a36a]/50 transition-all duration-300 cursor-pointer"
initial={{ opacity: 0, y: 30 }}
whileInView={{ opacity: 1, y: 0 }}
transition={{ duration: 0.6, delay: i * 0.1 }}
viewport={{ once: true }}
whileHover={{ scale: 1.02 }}
onClick={() => setSelectedImg(item.img)}
>
<div className="relative overflow-hidden">
<img
src={item.img}
alt={item.title}
className="w-full h-64 object-cover transition-transform duration-500 group-hover:scale-110"
/>
{/* Overlay gradient */}
<div className="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300" />
{/* Category badge */}
<div className="absolute top-3 left-3">
<span className="px-3 py-1 bg-[#c9a36a]/90 text-[#1a120b] text-xs font-semibold rounded-full backdrop-blur-sm">
{item.category}
</span>
</div>

{/* Action buttons overlay */}
<div className="absolute top-3 right-3 flex flex-col gap-2 opacity-0 group-hover:opacity-100 transition-all duration-300">
<button
onClick={(e) => {
e.stopPropagation();
toggleLike(i + 100); // offset to avoid conflicts
}}
className={`p-2 rounded-full backdrop-blur-sm transition-all ${
likedItems.has(i + 100)
? 'bg-red-500 text-white'
: 'bg-black/50 text-white hover:bg-red-500'
}`}
>
<FaHeart className="w-4 h-4" />
</button>
<button
onClick={(e) => {
e.stopPropagation();
shareItem(item);
}}
className="p-2 rounded-full bg-black/50 text-white hover:bg-[#c9a36a] hover:text-[#1a120b] backdrop-blur-sm transition-all"
>
<FaShare className="w-4 h-4" />
</button>
</div>

{/* Bottom info overlay */}
<div className="absolute bottom-0 left-0 right-0 p-4 text-white transform translate-y-full group-hover:translate-y-0 transition-transform duration-300">
<h3 className="font-semibold text-lg mb-1">{item.title}</h3>
<p className="text-[#c9a36a] text-sm flex items-center gap-2">
<FaExpand className="w-3 h-3" />
Click to enlarge
</p>
</div>
</div>
</motion.div>
))}
</div>

{/* Enhanced Modal View */}
<AnimatePresence>
{selectedImg && (
<motion.div
className="fixed inset-0 bg-black/95 z-50 flex items-center justify-center px-4 sm:px-6"
initial={{ opacity: 0 }}
animate={{ opacity: 1 }}
exit={{ opacity: 0 }}
onClick={() => setSelectedImg(null)}
>
<motion.div
className="relative max-w-6xl w-full"
initial={{ scale: 0.8, opacity: 0 }}
animate={{ scale: 1, opacity: 1 }}
exit={{ scale: 0.8, opacity: 0 }}
transition={{ duration: 0.3 }}
onClick={(e) => e.stopPropagation()}
>
<img
src={selectedImg}
alt="Gallery enlarged view"
className="w-full h-auto max-h-[85vh] object-contain rounded-2xl shadow-2xl"
/>
{/* Modal controls */}
<div className="absolute top-4 right-4 flex gap-2">
<button
onClick={() => shareItem({ img: selectedImg, title: "Gallery Image" })}
className="p-3 bg-black/50 hover:bg-[#c9a36a] hover:text-[#1a120b] text-white rounded-full backdrop-blur-sm transition-all duration-300"
>
<FaShare className="w-4 h-4" />
</button>
<button
onClick={() => setSelectedImg(null)}
className="p-3 bg-black/50 hover:bg-red-500 text-white rounded-full backdrop-blur-sm transition-all duration-300"
>
✕
</button>
</div>

{/* Image info */}
<div className="absolute bottom-4 left-4 right-4 bg-black/50 backdrop-blur-sm rounded-xl p-4 text-white">
<h3 className="font-semibold text-lg mb-2">Artisan Craftsmanship</h3>
<p className="text-stone-300 text-sm">
Every piece reflects decades of traditional pipe-making expertise
</p>
</div>
</motion.div>
</motion.div>
)}
</AnimatePresence>

{/* View more button */}
<motion.div
className="text-center mt-16"
initial={{ opacity: 0, y: 30 }}
whileInView={{ opacity: 1, y: 0 }}
transition={{ duration: 0.8, delay: 0.3 }}
viewport={{ once: true }}
>
<Link
to="/gallery"
className="inline-flex items-center gap-3 bg-[#c9a36a] hover:bg-[#b8925a] text-[#1a120b] px-8 py-3 rounded-full text-base font-semibold transition-all duration-300 hover:scale-105 shadow-lg hover:shadow-xl"
>
View Full Gallery <FaArrowRight className="w-4 h-4" />
</Link>
</motion.div>
</div>
</section>

{/* ✅ ENHANCED SECTION 7 – Interactive FAQ */}
<section className="py-24 px-4 sm:px-6 bg-[#1a120b] text-white">
<div className="max-w-4xl mx-auto">
<motion.div
className="text-center mb-16"
initial={{ opacity: 0, y: 30 }}
whileInView={{ opacity: 1, y: 0 }}
transition={{ duration: 0.8 }}
viewport={{ once: true }}
>
<span className="inline-block px-4 py-2 bg-[#c9a36a]/20 backdrop-blur-sm rounded-full text-[#c9a36a] text-sm font-medium border border-[#c9a36a]/30 mb-4">
Common Questions
</span>
<h2 className="text-4xl sm:text-5xl font-bold mb-4">
{t("faq_title") || "Frequently Asked Questions"}
</h2>
<p className="text-stone-400 text-lg">
Everything you need to know about our handcrafted pipes
</p>
</motion.div>

{/* Enhanced FAQ Component placeholder */}
<motion.div
className="bg-[#2a1d13]/60 backdrop-blur-sm border border-[#3b2f2f] rounded-2xl p-8 hover:border-[#c9a36a]/30 transition-all duration-300"
initial={{ opacity: 0, y: 30 }}
whileInView={{ opacity: 1, y: 0 }}
transition={{ duration: 0.8, delay: 0.2 }}
viewport={{ once: true }}
>
<FAQ />
</motion.div>

{/* Contact support */}
<motion.div
className="text-center mt-12"
initial={{ opacity: 0, y: 30 }}
whileInView={{ opacity: 1, y: 0 }}
transition={{ duration: 0.8, delay: 0.4 }}
viewport={{ once: true }}
>
<p className="text-stone-400 mb-4">Still have questions?</p>
<Link
to="/contact"
className="inline-flex items-center gap-3 bg-transparent hover:bg-[#c9a36a]/10 text-[#c9a36a] px-6 py-3 rounded-full text-base font-medium border border-[#c9a36a] transition-all duration-300"
>
Contact Our Experts <FaArrowRight className="w-4 h-4" />
</Link>
</motion.div>
</div>
</section>

{/* ✅ ENHANCED SECTION 8 – CMS Integration Showcase */}
<section className="py-24 px-4 sm:px-6 bg-gradient-to-br from-[#1a120b] via-[#2a1d13] to-[#1a120b] relative overflow-hidden">
{/* Background pattern */}
<div className="absolute inset-0 opacity-5">
<div className="absolute inset-0" style={{
backgroundImage: `url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23c9a36a' fill-opacity='0.1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`,
}} />
</div>

<div className="relative z-10 max-w-5xl mx-auto text-center">
<motion.div
initial={{ opacity: 0, y: 30 }}
whileInView={{ opacity: 1, y: 0 }}
transition={{ duration: 0.8 }}
viewport={{ once: true }}
>
<span className="inline-block px-4 py-2 bg-[#c9a36a]/20 backdrop-blur-sm rounded-full text-[#c9a36a] text-sm font-medium border border-[#c9a36a]/30 mb-6">
Content Management
</span>
<h2 className="text-4xl sm:text-5xl font-bold mb-6 text-white">
{cmsData?.cmsTitle || "Seamless Content Management"}
</h2>
<p className="text-stone-400 text-lg mb-10 leading-relaxed max-w-3xl mx-auto">
{cmsData?.cmsDescription ||
"Easily manage your content using Sanity CMS — no code, no redeploy. Update product details, text, and media in real time with our integrated content management system."}
</p>

{/* Feature highlights */}
<div className="grid grid-cols-1 md:grid-cols-3 gap-8 mb-12">
{[
{
icon: "⚡",
title: "Real-time Updates",
desc: "Changes reflect instantly"
},
{
icon: "🛡️",
title: "Secure & Reliable",
desc: "Enterprise-grade security"
},
{
icon: "🎨",
title: "User-Friendly",
desc: "No technical skills required"
}
].map((feature, i) => (
<motion.div
key={i}
className="bg-[#2a1d13]/40 backdrop-blur-sm border border-[#3b2f2f] rounded-xl p-6 hover:border-[#c9a36a]/30 transition-all duration-300 group"
initial={{ opacity: 0, y: 30 }}
whileInView={{ opacity: 1, y: 0 }}
transition={{ duration: 0.6, delay: i * 0.1 }}
viewport={{ once: true }}
whileHover={{ scale: 1.02 }}
>
<div className="text-3xl mb-3 group-hover:scale-110 transition-transform">
{feature.icon}
</div>
<h3 className="text-white font-semibold mb-2">{feature.title}</h3>
<p className="text-stone-400 text-sm">{feature.desc}</p>
</motion.div>
))}
</div>

<motion.button
className="bg-gradient-to-r from-[#c9a36a] to-[#b8925a] hover:from-[#b8925a] hover:to-[#a67d42] text-[#1a120b] px-8 py-3 rounded-full text-base font-semibold transition-all duration-300 hover:scale-105 shadow-lg hover:shadow-xl"
initial={{ opacity: 0, y: 30 }}
whileInView={{ opacity: 1, y: 0 }}
transition={{ duration: 0.8, delay: 0.4 }}
viewport={{ once: true }}
whileHover={{ scale: 1.05 }}
whileTap={{ scale: 0.95 }}
>
{cmsData?.cmsButton || "Explore CMS Features"}
</motion.button>
</motion.div>
</div>
</section>

{/* ✅ ENHANCED SCROLL TO TOP BUTTON */}
<AnimatePresence>
{showScrollTop && (
<motion.button
onClick={scrollToTop}
className="fixed bottom-6 right-6 z-50 p-4 rounded-full bg-gradient-to-r from-[#c9a36a] to-[#b8925a] hover:from-[#b8925a] hover:to-[#a67d42] text-[#1a120b] shadow-xl border-2 border-[#c9a36a]/30 backdrop-blur-sm transition-all duration-300 group"
initial={{ opacity: 0, scale: 0, rotate: -180 }}
animate={{ opacity: 1, scale: 1, rotate: 0 }}
exit={{ opacity: 0, scale: 0, rotate: 180 }}
whileHover={{ scale: 1.1 }}
whileTap={{ scale: 0.9 }}
aria-label="Scroll to top"
>
<motion.span
className="text-xl leading-none block"
animate={{ y: [0, -2, 0] }}
transition={{ duration: 2, repeat: Infinity }}
>
↑
</motion.span>
{/* Tooltip */}
<div className="absolute bottom-full right-0 mb-2 px-3 py-1 bg-black/80 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none whitespace-nowrap">
Back to top
</div>
</motion.button>
)}
</AnimatePresence>
</div>
);
};

export default Home;











// ✅ React & Core Hooks
import { useEffect, useState } from "react";

// ✅ Sanity Client & Queries
import { sanity } from "@/lib/sanityClient";
import { homeContentQuery } from "@/lib/queries";

// ✅ Routing & Translations
import { Link } from "react-router-dom";
import { useLang } from "../context/LanguageContext";

// ✅ Components
import FAQ from "../components/FAQ";
import Gallery from "../components/Gallery";

// ✅ Animation & Scrolling
import { motion, AnimatePresence } from "framer-motion";
import gsap from "gsap";
import ScrollTrigger from "gsap/ScrollTrigger";
import Lenis from "@studio-freight/lenis";

// ✅ Carousel & Lazy Loading
import Slider from "react-slick";
import LazyLoad from "react-lazyload";
import "slick-carousel/slick/slick.css";
import "slick-carousel/slick/slick-theme.css";

// ✅ Icons
import { FaCheckCircle, FaStar, FaQuoteLeft, FaArrowRight } from "react-icons/fa";

// ✅ Media & Assets
import heroVideo from "../assets/hero-home.mp4";
import woodBg from "../assets/wood-bg.jpg";
import pipe1 from "../assets/pipe1.jpg";
import pipe2 from "../assets/pipe2.jpg";
import pipe3 from "../assets/pipe3.jpg";
import artisanImg from "../assets/artisan.jpg";
import artisan2 from "../assets/artisan2.jpg";

// ✅ Register GSAP plugins
gsap.registerPlugin(ScrollTrigger);

const Home = () => {
  const { t } = useLang();
  const pipes = [pipe1, pipe2, pipe3];

  // 🔹 UI State
  const [showScrollTop, setShowScrollTop] = useState(false);
  const [selectedImg, setSelectedImg] = useState<string | null>(null);

  // 🔹 Sanity CMS Data
  const [cmsData, setCmsData] = useState<{
  cmsTitle: string;
  cmsDescription: string;
  cmsButton: string;
} | null>(null);

  // 🔹 Fetch from Sanity
  useEffect(() => {
  const fetchContent = async () => {
    try {
      const result = await sanity.fetch(homeCMSQuery);
      setCmsData(result);
    } catch (error) {
      console.error("CMS fetch failed:", error);
    }
  };
  fetchContent();
}, []);

  // 🔹 Carousel Settings
  const settings = {
    centerMode: true,
    centerPadding: "0px",
    slidesToShow: 3,
    infinite: true,
    autoplay: true,
    autoplaySpeed: 3000,
    speed: 600,
    arrows: false,
    dots: false,
    pauseOnHover: false,
    responsive: [
      {
        breakpoint: 1024,
        settings: {
          slidesToShow: 1,
          centerMode: false,
        },
      },
    ],
  };

  // ✅ Smooth Scroll (Lenis)
  useEffect(() => {
    const lenis = new Lenis();
    const raf = (time: number) => {
      lenis.raf(time);
      requestAnimationFrame(raf);
    };
    requestAnimationFrame(raf);

    const handleScroll = () => setShowScrollTop(window.scrollY > 300);
    window.addEventListener("scroll", handleScroll);
    return () => window.removeEventListener("scroll", handleScroll);
  }, []);

  // ✅ GSAP ScrollTrigger Animations
  useEffect(() => {
    gsap.utils.toArray(".reveal").forEach((el: any) => {
      gsap.fromTo(
        el,
        { opacity: 0, y: 50 },
        {
          opacity: 1,
          y: 0,
          duration: 1,
          ease: "power3.out",
          scrollTrigger: {
            trigger: el,
            start: "top 83%",
            toggleActions: "play none none reverse",
          },
        }
      );
    });
  }, []);

  // ✅ Scroll to Top Handler
  const scrollToTop = () => {
    window.scrollTo({ top: 0, behavior: "smooth" });
  };

  return (
    <div className="bg-[#1a120b] text-white overflow-hidden font-serif">

      {/* ✅ HERO SECTION */}
<motion.section
  initial={{ opacity: 0, scale: 0.95 }}
  animate={{ opacity: 1, scale: 1 }}
  transition={{ duration: 1 }}
  className="relative min-h-screen flex flex-col justify-center items-center text-center px-4 sm:px-6 md:px-10 overflow-hidden"
>
  {/* Background video */}
  <video
    src={heroVideo}
    autoPlay
    muted
    loop
    playsInline
    className="absolute inset-0 w-full h-full object-cover"
  />

  {/* Overlay */}
  <div className="absolute inset-0 bg-[#1e1007]/60 z-10" />

  {/* Hero Content */}
  <div className="relative z-20 max-w-3xl text-center">
    <h1 className="text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-extrabold tracking-tight leading-tight text-white mb-6 drop-shadow-[0_2px_8px_rgba(0,0,0,0.5)]">
      {t("home.hero_title")}
    </h1>

    <p className="text-base sm:text-lg md:text-xl text-stone-300 mb-10 leading-relaxed">
      {t("home.hero_subtitle")}
    </p>

    <Link
      to="/orders"
      className="inline-flex items-center gap-3 bg-[#3b2f2f] hover:bg-[#2a1d1d] text-white px-6 sm:px-8 py-2.5 sm:py-3 rounded-full text-sm sm:text-base md:text-lg font-medium shadow-md transition"
    >
      {t("home.view_collection")} <FaArrowRight className="w-4 h-4" />
    </Link>
  </div>
</motion.section>

{/* ✅ SECTION 1 - Hero Features Section */}
<section
  className="relative py-20 px-4 sm:px-6 md:px-12 text-white overflow-hidden"
  style={{
    backgroundImage: `url(${woodBg})`,
    backgroundSize: "cover",
    backgroundPosition: "center",
  }}
>
  <div className="absolute inset-0 bg-[#1b1008]/95 z-0" />

  <div className="relative z-10 max-w-7xl mx-auto flex flex-col-reverse md:flex-row items-center gap-14">
    
    {/* Left Content */}
    <motion.div
      className="w-full md:w-1/2 space-y-8"
      initial={{ opacity: 0, x: -50 }}
      whileInView={{ opacity: 1, x: 0 }}
      transition={{ duration: 0.8 }}
      viewport={{ once: true }}
    >
      <h2 className="text-4xl sm:text-5xl font-extrabold leading-tight tracking-tight text-white drop-shadow">
        {t("section1_title") || "Tradition Meets Craftsmanship"}
      </h2>

      <ul className="space-y-4">
        {[1, 2, 3, 4].map((n) => (
          <li key={n} className="flex items-start gap-3 text-lg text-stone-300">
            <FaCheckCircle className="text-[#c9a36a] w-5 h-5 mt-1" />
            <span>{t(`section1_feat${n}`) || `Feature ${n}`}</span>
          </li>
        ))}
      </ul>

      <blockquote className="italic text-[#c9a36a] text-lg border-l-4 border-[#c9a36a] pl-5 max-w-xl mt-6">
        {t("section1_quote") || "Crafted with passion, delivered with pride."}
      </blockquote>

      <Link
        to="/about"
        className="inline-block mt-6 text-sm sm:text-base font-semibold bg-[#3b2f2f] hover:bg-[#2a1d1d] transition-all text-white px-6 py-3 rounded-full shadow-md hover:shadow-lg"
      >
        {t("learn_more_button") || "Learn More"}
      </Link>
    </motion.div>

    {/* Right Image */}
    <motion.div
      className="w-full md:w-1/2 flex justify-center"
      initial={{ opacity: 0, x: 50 }}
      whileInView={{ opacity: 1, x: 0 }}
      transition={{ duration: 0.8 }}
      viewport={{ once: true }}
    >
      <img
        src={artisanImg}
        alt={t("home.section1_img_alt") || "Artisan carving tobacco pipe"}
        className="w-full max-w-[90%] sm:max-w-[80%] md:max-w-[75%] lg:max-w-[70%] rounded-3xl object-cover shadow-2xl hover:scale-105 transition-transform duration-500"
      />
    </motion.div>
  </div>
</section>



{/* ✅ SECTION 2 – Featured Models Carousel */}
<section className="py-20 px-4 sm:px-6 md:px-12 bg-[#1b130e] w-full reveal">
  <h2 className="text-4xl md:text-5xl font-extrabold mb-14 text-center text-white drop-shadow-sm">
    {t("section2_title") || "Explore Our Models"}
  </h2>

  <div className="overflow-hidden">
    <Slider {...settings} className="no-scrollbar">
      {[
        {
          img: pipe1,
          modelKey: "model_1",
          priceKey: "model_1_price",
          subKey: "model_1_sub"
        },
        {
          img: pipe2,
          modelKey: "model_2",
          priceKey: "model_2_price",
          subKey: "model_2_sub"
        },
        {
          img: pipe3,
          modelKey: "model_3",
          priceKey: "model_3_price",
          subKey: "model_3_sub"
        }
      ].map(({ img, modelKey, priceKey, subKey }, i) => (
        <div key={i} className="px-2 sm:px-4 py-6">
          <motion.div
            whileHover={{
              scale: 1.05,
              boxShadow: "0 10px 25px rgba(201, 163, 106, 0.3)",
            }}
            transition={{ duration: 0.3 }}
            className="bg-[#2a1d13] rounded-xl p-5 max-w-sm mx-auto flex flex-col items-center shadow-md"
          >
            <img
              src={img}
              alt={t(modelKey) || `Pipe Model ${i + 1}`}
              className="rounded-lg mb-4 w-full object-cover h-48 sm:h-56 md:h-64"
              loading="lazy"
            />
            <h3 className="text-xl font-semibold mb-1 text-white">
              {t(modelKey)}
            </h3>
            <p className="text-base text-[#c9a36a] font-medium mb-1">
              {t(priceKey) || "$149 · Handmade"}
            </p>
            <p className="text-sm text-stone-400 text-center">
              {t(subKey) || "Fine wood, beautifully crafted."}
            </p>
            <button
              onClick={() => setSelectedImg(img)}
              className="mt-4 bg-[#3b2f2f] hover:bg-[#2a1d1d] text-white text-sm font-medium px-5 py-2 rounded-full transition shadow"
            >
              {t("view_detail") || "View Details"}
            </button>
          </motion.div>
        </div>
      ))}
    </Slider>
  </div>

  {/* 🔍 Modal Preview */}
  <AnimatePresence>
    {selectedImg && (
      <motion.div
        className="fixed inset-0 bg-black/80 z-50 flex items-center justify-center px-4 sm:px-6"
        initial={{ opacity: 0 }}
        animate={{ opacity: 1 }}
        exit={{ opacity: 0 }}
        onClick={() => setSelectedImg(null)}
      >
        <motion.img
          src={selectedImg}
          alt="Enlarged preview"
          className="max-w-3xl w-full rounded-lg shadow-xl"
          initial={{ scale: 0.8, opacity: 0 }}
          animate={{ scale: 1, opacity: 1 }}
          exit={{ scale: 0.8, opacity: 0 }}
          transition={{ duration: 0.3 }}
        />
      </motion.div>
    )}
  </AnimatePresence>
</section>


{/* ✅ SECTION 3 – Elegant Horizontal Timeline with Pop-In Animation */}
<section className="relative py-24 px-4 sm:px-8 md:px-16 bg-[#1a120b] text-white overflow-hidden">
  <div className="text-center mb-20 max-w-3xl mx-auto">
    <h2 className="text-4xl sm:text-5xl font-bold mb-4">
      {t("timeline_title") || "Crafted by Time"}
    </h2>
    <p className="text-stone-400 text-base sm:text-lg">
      {t("timeline_intro") || "Moments that shaped our craft."}
    </p>
  </div>

  <div className="relative overflow-x-auto scroll-smooth">
    <div className="flex gap-12 w-max mx-auto px-6 items-start justify-start">
      {[
        { year: "1982", key: "timeline_event1" },
        { year: "1995", key: "timeline_event2" },
        { year: "2005", key: "timeline_event3" },
        { year: "2020", key: "timeline_event4" },
      ].map(({ year, key }, i) => (
        <motion.div
          key={i}
          className="flex flex-col items-center text-center relative group"
          initial={{ opacity: 0, scale: 0.85 }}
          whileInView={{ opacity: 1, scale: 1 }}
          transition={{ duration: 0.4, delay: i * 0.1 }}
          viewport={{ once: true }}
        >
          {/* Line Connector */}
          {i !== 0 && (
            <div className="absolute top-2 left-[-6rem] w-24 h-[2px] bg-[#3b2f2f] hidden md:block"></div>
          )}

          {/* Dot */}
          <div className="w-4 h-4 bg-[#c9a36a] rounded-full shadow-lg border-2 border-[#1a120b] z-10" />

          {/* Card */}
          <div className="bg-[#2b1c13]/60 backdrop-blur-lg border border-[#3b2f2f] rounded-xl px-6 py-5 mt-6 w-64 shadow-md hover:shadow-[#c9a36a]/30 transition-all">
            <h3 className="text-[#c9a36a] text-sm font-semibold mb-2">{year}</h3>
            <p className="text-stone-300 text-sm leading-relaxed">
              {t(key) || "Event description"}
            </p>
          </div>
        </motion.div>
      ))}
    </div>
  </div>

  <div className="mt-16 text-center">
    <Link
      to="/about"
      className="inline-block bg-[#3b2f2f] hover:bg-[#2a1d1d] text-white px-6 py-2.5 rounded-full text-sm font-medium transition shadow-md"
    >
      {t("learn_more_button") || "Discover Our Story"}
    </Link>
  </div>
</section>







{/* ✅ SECTION 4 – Quote Background */}
<section className="relative py-24 px-4 sm:px-6 md:px-10 overflow-hidden bg-[#1a120b] reveal">
  <img
    src={artisan2}
    alt="Artisan background"
    className="absolute inset-0 w-full h-full object-cover object-center z-0"
    loading="lazy"
  />
  <div className="absolute inset-0 bg-black/70 z-10" />

  <div className="relative z-20 max-w-3xl mx-auto text-center text-[#c9a36a] space-y-6">
    <FaQuoteLeft className="mx-auto text-3xl sm:text-4xl md:text-5xl opacity-50" />
    <p className="text-xl sm:text-2xl md:text-3xl italic leading-relaxed px-2">
      {t("quote_text") || "Every pipe tells a story — one of patience, fire, and legacy."}
    </p>
    <p className="text-sm sm:text-base md:text-lg font-medium tracking-wide text-stone-300">
      — {t("quote_author") || "Master Artisan, Telemax"}
    </p>
    <Link
      to="/contact"
      className="inline-block bg-[#3b2f2f] hover:bg-[#2a1d1d] text-white px-6 py-2.5 rounded-full text-sm font-semibold transition"
    >
      {t("contact_cta") || "Get in Touch"}
    </Link>
  </div>
</section>



     {/* ✅ SECTION 5 – Testimonials */}
<section className="py-24 px-4 sm:px-6 bg-[#1a120b] max-w-7xl mx-auto reveal">
  <h2 className="text-3xl sm:text-4xl md:text-5xl font-bold mb-12 text-center text-white">
    {t("testimonials_title")}
  </h2>

  <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-10 justify-items-center">
    {[
      { text: t("testimonial1_text"), author: t("testimonial1_author") },
      { text: t("testimonial2_text"), author: t("testimonial2_author") },
      { text: t("testimonial3_text"), author: t("testimonial3_author") },
    ].map(({ text, author }, i) => (
      <motion.blockquote
        key={i}
        className="bg-[#2a1d13] p-6 sm:p-8 rounded-xl shadow-xl max-w-sm w-full"
        initial={{ opacity: 0, y: 40 }}
        whileInView={{ opacity: 1, y: 0 }}
        transition={{ duration: 0.6, delay: i * 0.15 }}
      >
        <p className="italic text-stone-300 mb-6">"{text}"</p>
        <footer className="text-[#c9a36a] font-semibold">— {author}</footer>
        <div className="mt-4 flex gap-1 justify-center text-[#c9a36a]">
          {[...Array(5)].map((_, star) => (
            <FaStar key={star} />
          ))}
        </div>
      </motion.blockquote>
    ))}
  </div>
</section>

{/* ✅ SECTION 6 – Luxury Gallery Grid */}
<section className="py-24 px-4 sm:px-8 md:px-16 bg-[#1a120b] text-white">
  <h2 className="text-4xl sm:text-5xl font-bold text-center mb-16 drop-shadow-lg">
    {t("gallery_title") || "Gallery of Craftsmanship"}
  </h2>

  <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-10 max-w-6xl mx-auto">
    {[pipe1, pipe2, pipe3, artisan2, pipe3, pipe1].map((img, i) => (
      <motion.div
        key={i}
        className="relative group overflow-hidden rounded-2xl shadow-[0_10px_40px_rgba(0,0,0,0.3)] bg-[#2a1d13]/40 border border-[#3b2f2f] hover:shadow-[0_0_30px_rgba(201,163,106,0.2)] transition-all duration-300"
        whileHover={{ scale: 1.015 }}
        transition={{ duration: 0.4 }}
        onClick={() => setSelectedImg(img)}
      >
        <img
          src={img}
          alt={`Gallery image ${i + 1}`}
          className="w-full h-80 object-cover rounded-2xl transition-transform duration-500 group-hover:scale-105"
        />
        <div className="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent text-center py-3 opacity-0 group-hover:opacity-100 transition-opacity duration-300 text-sm text-[#c9a36a] tracking-wide">
          {t("gallery_item_label") || "Tap to view"}
        </div>
      </motion.div>
    ))}
  </div>

  {/* Optional Modal View */}
  <AnimatePresence>
    {selectedImg && (
      <motion.div
        className="fixed inset-0 bg-black/80 z-50 flex items-center justify-center px-4 sm:px-6"
        initial={{ opacity: 0 }}
        animate={{ opacity: 1 }}
        exit={{ opacity: 0 }}
        onClick={() => setSelectedImg(null)}
      >
        <motion.img
          src={selectedImg}
          alt="Enlarged view"
          className="max-w-5xl w-full rounded-xl shadow-2xl"
          initial={{ scale: 0.95, opacity: 0 }}
          animate={{ scale: 1, opacity: 1 }}
          exit={{ scale: 0.9, opacity: 0 }}
          transition={{ duration: 0.3 }}
        />
      </motion.div>
    )}
  </AnimatePresence>
</section>




{/* ✅ SECTION 7 – FAQ Accordion */}
<section className="py-20 px-4 sm:px-6 bg-[#1a120b] text-white max-w-5xl mx-auto">
  <h2 className="text-3xl sm:text-4xl md:text-5xl font-bold mb-14 text-center reveal">
    {t("faq_title")}
  </h2>

  <div className="space-y-6 max-w-3xl mx-auto">
  <FAQ />
</div>

</section>


{/* ✅ SECTION 8 – CMS Live Content */}
<section className="py-24 px-4 sm:px-6 bg-[#1a120b] text-center max-w-4xl mx-auto rounded-xl shadow-xl reveal">
  <h2 className="text-3xl sm:text-4xl md:text-5xl font-bold mb-6 text-white">
    {cmsData?.cmsTitle || "Live Content Editing"}
  </h2>
  <p className="text-stone-400 text-base sm:text-lg mb-10 leading-relaxed">
    {cmsData?.cmsDescription ||
      "Easily manage your content using Sanity CMS — no code, no redeploy. Update product details, text, and media in real time."}
  </p>
  <button className="bg-[#3b2f2f] hover:bg-[#2a1d1d] text-white px-6 sm:px-8 py-2.5 sm:py-3 rounded-full text-base font-medium transition shadow-lg">
    {cmsData?.cmsButton || "Connect Sanity CMS"}
  </button>
</section>


{showScrollTop && (
  <button
    onClick={scrollToTop}
    className="fixed bottom-6 right-6 z-50 p-3 sm:p-3 rounded-full bg-[#2a1d1d] hover:bg-[#3b2f2f] text-white shadow-lg border border-[#3b2f2f] transition-transform duration-300 hover:scale-105"
    aria-label="Scroll to top"
  >
    <span className="text-2xl leading-none">↑</span>
  </button>
)}



    </div>
  );
};



export default Home; heres home whats wrong with it 